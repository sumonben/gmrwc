{% extends 'basepage/admission_layout.html' %}
{% load static  %}

{% block content %}
  
  
                <tr>
                  <td align="left" valign="top">&nbsp;</td>
                </tr>
                <tr>
                  <td  bgcolor="#C9DAED" class="bdr-body" valign="top" >
                    <div class="progress">
                      <div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: 0%;"></div>
                  </div>
    <!-- CONTAINER -->
    <div class="container" style="width: 100%;">
      <div class="" style="margin: auto;width: 100%;">
          <!-- TITLE 
          <div class="col-lg-4 offset-lg-1 mx-0 px-0">
              <div id="title-container">
                  <img class="covid-image" src="./img/covid-check.png">
                  <h2>COVID-19</h2>
                  <h3>Self Checker Form</h3>
                  <p>A clinical assessment multi-step form that will assist individuals on deciding when to seek testing or medical care if they suspect they or someone they know has contracted COVID-19 or has come into close contact with someone who has COVID-19</p>
              </div>
          </div>-->
          <!-- FORMS -->
          <div >
              <div id="qbox-container">
                      <div id="steps-container">
                          <div class="step d-block">
                            <div><h1 style="text-align: center;"><u>Personal Information</u></h1></div>

                            <table width="900" border="0" align="center" valign="middle" cellspacing="0" cellpadding="0">

                              <tbody>
                              <tr>
                                <td align="left">
                                  <fieldset>
                                  <table width="100%" border="1" cellspacing="0" cellpadding="2">
                                    <thead style="height: 25px; background-color: #245b80; color: #fff;padding: 15px"><th colspan="5" style="height: 25px; background-color: #245b80; color: #fff;padding: 15px;">Personal Information</th></thead>
                                    <tbody>
                                    {% for field in form %}
                                    {{ field.errors }}
                                
                                      <tr>
                                          <td width="10%" align="left" valign="middle">&nbsp;</td>
                                          <td width="10%" align="left" valign="middle" class="black12">{{field.label_tag}}</td>
                                          <td width="10%" align="left" valign="middle" class="black12">:</td>
                                          <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                            <label>
                                              {{field}}                                        
                                            </label>
                                            <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                          <td width="5%" align="left" valign="middle">&nbsp;</td>
                                      </tr>
                                      {% endfor %}
                                      
                                        
                                    
      
                                  </tbody></table>
                                </fieldset>
                              </td>
                              <!--<td align="right">
                                <fieldset>
                                <table width="100%" border="1" cellspacing="0" cellpadding="3">
                                  <thead style="height: 25px; background-color: #245b80; color: #fff;padding: 15px"><th colspan="5" style="height: 25px; background-color: #245b80; color: #fff;padding: 15px;">Basic Information(Academic)</th></thead>

                                  <tbody>
                                    <tr>
                                      <td width="10%" align="left" valign="middle">&nbsp;</td>
                                      <td width="10%" align="left" valign="middle" class="black12">{{form.nationality.label}}</td>
                                      <td width="10%" align="left" valign="middle" class="black12">:</td>
                                      <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                        <label>
                                          {{form.nationality}}                                        
                                        </label>
                                        <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                    <tr>
                                      <td width="10%" align="left" valign="middle">&nbsp;</td>
                                      <td width="10%" align="left" valign="middle" class="black12">{{form.birth_registration.label}}</td>
                                      <td width="10%" align="left" valign="middle" class="black12">:</td>
                                      <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                        <label>
                                          {{form.birth_registration}}                                        
                                        </label>
                                        <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                     
                                      <tr>
                                        <td width="10%" align="left" valign="middle">&nbsp;</td>
                                        <td width="10%" align="left" valign="middle" class="black12">{{form.gender.label}}</td>
                                        <td width="10%" align="left" valign="middle" class="black12">:</td>
                                        <td width="25%" align="left" valign="middle"><span id="sprytextfield1">
                                          <label>
                                            {{form.gender}}                                        
                                          </label>
                                          <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                        
                                    </tr>
                                  
                                  <tr>
                                      <td width="10%" align="left" valign="middle">&nbsp;</td>
                                      <td width="10%" align="left" valign="middle" class="black12">{{form.exam_roll.label}}</td>
                                      <td width="10%" align="left" valign="middle" class="black12">:</td>
                                      <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                        <label>
                                          {{form.exam_roll}}                                        
                                        </label>
                                        <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                  <tr>
                                    <td width="10%" align="left" valign="middle">&nbsp;</td>
                                    <td width="10%" align="left" valign="middle" class="black12">{{form.registration.label}}</td>
                                    <td width="10%" align="left" valign="middle" class="black12">:</td>
                                    <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                      <label>
                                        {{form.registration}}                                        
                                      </label>
                                      <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                    <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                  <tr>
                                    <td width="10%" align="left" valign="middle">&nbsp;</td>
                                    <td width="10%" align="left" valign="middle" class="black12">{{form.session.label}}</td>
                                    <td width="10%" align="left" valign="middle" class="black12">:</td>
                                    <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                      <label>
                                        {{form.session}}                                        
                                      </label>
                                      <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                    <td width="5%" align="left" valign="middle">&nbsp;</td>
                                </tr>
                                
                                  <tr>
                                    <td width="10%" align="left" valign="middle">&nbsp;</td>
                                    <td width="10%" align="left" valign="middle" class="black12">{{form.group.label}}</td>
                                    <td width="10%" align="left" valign="middle" class="black12">:</td>
                                    <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                      <label>
                                        {{form.group}}                                        
                                      </label>
                                      <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                    <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                  <tr>
                                    <td width="10%" align="left" valign="middle">&nbsp;</td>
                                    <td width="10%" align="left" valign="middle" class="black12">{{form.marital_status.label}}</td>
                                    <td width="10%" align="left" valign="middle" class="black12">:</td>
                                    <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                      <label>
                                        {{form.marital_status}}                                        
                                      </label>
                                      <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                    <td width="5%" align="left" valign="middle">&nbsp;</td>
                                <tr>
                                  <td width="10%" align="left" valign="middle">&nbsp;</td>
                                  <td width="10%" align="left" valign="middle" class="black12">{{form.blood_group.label}}</td>
                                  <td width="10%" align="left" valign="middle" class="black12">:</td>
                                  <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                    <label>
                                      {{form.blood_group}}                                        
                                    </label>
                                    <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                  <td width="5%" align="left" valign="middle">&nbsp;</td>
                              </tr>
                              
                                                               
                              </tbody></table>
                              </fieldset>
                            </td>-->
                            </tr>
                                
                            </tbody>
                          </table>
                            <table width="900" border="0" align="center" valign="middle" cellspacing="0" cellpadding="0">
                              <tbody>
                              <tr>
                                <td align="left">
                                  <fieldset>
                                    <table width="100%" border="1" cellspacing="" cellpadding="5">
                                      <thead style="height: 25px; background-color: #245b80; color: #fff;padding: 15px;"><th colspan="5" style="height: 25px; background-color: #245b80; color: #fff;padding: 15px;">Permanent Adress</th></thead>
                                      <tbody>
                                        {% for field in adress_form %}
                                        <tr>
                                            <td width="10%" align="left" valign="middle">&nbsp;</td>
                                            <td width="10%" align="left" valign="middle" class="black12">{{field.label_tag}}</td>
                                            <td width="0%" align="left" valign="middle" class="black12">:</td>
                                            <td width="70%" align="left" valign="middle"><span id="sprytextfield1">
                                              <label>
                                                {{field}}                                        
                                              </label>
                                              <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                            <td width="5%" align="left" valign="middle">&nbsp;</td>
                                        </tr>
                                        {% endfor %}
                                        
                                    </tbody></table>
                                  </fieldset>
                              </td>
                              <td align="left">
                                <fieldset>
                                  <table width="100%" border="1" cellspacing="0" cellpadding="3">
                                    <thead style="height: 25px; background-color: #245b80; color: #fff;">
                                      <th colspan="5" style="height: 25px; background-color: #245b80; color: #fff;padding: 15px;">Present Adress</th>
                                    </thead>
                                    <tbody>
                                      <tr><td colspan="5" align="right"><small>same as Permanent Adress</small> <input type="checkbox" id="present_adress"> </td></tr>
                                      {% for field in present_adress_form %}
                                        <tr>
                                            <td width="10%" align="left" valign="middle">&nbsp;</td>
                                            <td width="10%" align="left" valign="middle" class="black12">{{field.label_tag}}</td>
                                            <td width="0%" align="left" valign="middle" class="black12">:</td>
                                            <td width="70%" align="left" valign="middle"><span id="sprytextfield1">
                                              <label>
                                                {{field}} 
                                                                               
                                              </label>
                                              <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                            <td width="5%" align="left" valign="middle">&nbsp;</td>
                                        </tr>
                                        {% endfor %}                                      
                                        
                                  </tbody></table>
                                </fieldset>
                            </td>
                                </tr>
                                
                            </tbody>
                          </table>
                            
                          </div>
                          <div class="step d-none">
                          <div><h1 style="text-align: center;"><u>Guardian Information </u></h1></div>

                            <table width="900" border="0" align="center" valign="middle" cellspacing="0" cellpadding="0">

                              <tbody>
                              <tr>
                                <td align="left">
                                  <fieldset>
                            
                              <table width="100%" border="1" cellspacing="0" cellpadding="3">
                                <thead style="height: 25px; background-color: #245b80; color: #fff;">
                                  <th colspan="5" style="height: 25px; background-color: #245b80; color: #fff; padding: 15px; margin-bottom: 15px;">Fill your guardian information</th>
                                </thead>
                                <tbody>
                                  {% for field in guardian_form %}
                                    {{ field.errors }}
                                
                                  <tr>
                                      <td width="10%" align="left" valign="middle">&nbsp;</td>
                                      <td width="10%" align="left" valign="middle" class="black12">{{ field.label_tag }}</td>
                                      <td width="10%" align="left" valign="middle" class="black12">:</td>
                                      <td width="55%" align="left" valign="middle"><span id="sprytextfield1">
                                        <label>
                                          {{ field }}
                                        </label>
                                        <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                  {% endfor %}
  
                              
                                    
                                
  
                              </tbody></table>
                            </fieldset>
                                </td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                          <div class="step d-none">

                            <div><h1 style="text-align: center;"><u>Academic Information</u></h1></div>

                            <table width="900" border="0" align="center" valign="middle" cellspacing="0" cellpadding="0">

                              <tbody>
                              <tr>
                                <td align="left">
                                  <fieldset>
                            
                              <table width="100%" border="1" cellspacing="0" cellpadding="3">
                                <thead style="height: 25px; background-color: #245b80; color: #fff;">
                                  <th colspan="5" style="height: 25px; background-color: #245b80; color: #fff; padding: 15px; margin-bottom: 15px;">SSC or Equivalent Information</th>
                                </thead>
                                <tbody>
                                  {% for field in ssc_equivalent_form %}
                                    {{ field.errors }}
                                
                                  <tr>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                      <td width="25%" align="left" valign="middle" class="black12">{{ field.label_tag }}</td>
                                      <td width="5%" align="left" valign="middle" class="black12">:</td>
                                      <td width="65%" align="left" valign="middle"><span id="sprytextfield1">
                                        <label>
                                          {{ field }}
                                        </label>
                                        <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                  {% endfor %}
  
                              
                                    
                                
  
                              </tbody></table>
                            </fieldset>
                                </td>
                              </tr>
                              </tbody>
                            </table>
                              
                          </div>
                          <div class="step d-none">
                              
                            <div><h1 style="text-align: center;"><u>Subject Choice Entry</u></h1></div>

                            <table width="900" border="0" align="center" valign="middle" cellspacing="0" cellpadding="0">

                              <tbody>
                              <tr>
                                <td align="left">
                                  <fieldset>
                            
                              <table width="100%" border="1" cellspacing="0" cellpadding="3">
                                <thead style="height: 25px; background-color: #245b80; color: #fff;">
                                  <th colspan="5" style="height: 25px; background-color: #245b80; color: #fff; padding: 15px; margin-bottom: 15px;">Choose your desiered subject</th>
                                </thead>
                                <tbody>
                                  {% for field in subject_form %}
                                    {{ field.errors }}
                                
                                  <tr>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                      <td width="15%" align="left" valign="middle" class="black12">{{ field.label_tag }}</td>
                                      <td width="5%" align="left" valign="middle" class="black12">:</td>
                                      <td width="75%" align="left" valign="middle"><span id="sprytextfield1">
                                        <label>
                                          {{ field }}
                                        </label>
                                        <span class="textfieldRequiredMsg">User ID is required!</span></span></td>
                                      <td width="5%" align="left" valign="middle">&nbsp;</td>
                                  </tr>
                                  {% endfor %}
  
                              
                                    
                                
  
                              </tbody></table>
                            </fieldset>
                                </td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                          <form  id="form-wrapper" >
                            {% csrf_token %}

                          <div class="step d-none">
                            <div class="mt-1">
                              <div class="closing-text">
                                <input type="text" id="sumon" name="sumon" value="Sumon Ben">
                                  <h4>That's about it! Stay healthy!</h4>
                                  <p>We will assess your information and will let you know soon if you need to get tested for COVID-19.</p>
                                  <p>Click on the submit button to continue.</p>
                              </div>
                          </div>
                      </div>
                      <div id="success">
                          <div class="mt-5">
                              <h4>Success! We'll get back to you ASAP!</h4>
                              <p>Meanwhile, clean your hands often, use soap and water, or an alcohol-based hand rub, maintain a safe distance from anyone who is coughing or sneezing and always wear a mask when physical distancing is not possible.</p>
                              <a class="back-link" href="{% url 'admission_login' %}">Go back from the beginning ➜</a>
                          </div>
                      </div>
                      
                  </div>
                      <div id="q-box__buttons" >
                        <button id="prev-btn" type="button" class="d-inline-block">Previous</button> 
                        <button id="next-btn" type="button" class="d-inline-block">Next</button> 
                        <button id="submit-btn" type="submit" class="d-none">Submit</button>
                    </div>
                    
                      
              </div>
              
      </form>

          </div>
      </div>
  </div>
  <!-- PRELOADER -->
  <div id="preloader-wrapper">
    <div id="preloader"></div>
    <div class="preloader-section section-left"></div>
    <div class="preloader-section section-right"></div>
</div>
  
                      
                  </td>
                </tr>
                <tr>
                  <td align="left" valign="top">&nbsp;</td>
                </tr>
                <script src="https://www.nothi.gov.bd/assets/global/plugins/jquery.min.js" type="text/javascript"></script>

        <script>
          
          $(document).ready(function () {
            
            $('#submit-btn').on('click', function () {
              preloader.classList.add('d-block');
            var frm = $('#form-wrapper')[0];
            var form= new FormData(frm);
       
            var csrfToken = $('[name="csrfmiddlewaretoken"]').val();
            //alert("hi");

            // Get the data from the form
           
       
            // Send AJAX request
            $.ajax({
                enctype: 'multipart/form-data',
                type: 'POST',
                url: "{% url 'admission_form_submit' %}",  // Adjust the URL as per your project structure
                data: form,
                headers: {
                    'X-CSRFToken': csrfToken
                },
                
                cache:false,
                processData:false,
                contentType:false,
               
                success: function (response) {
                    
                    //document.getElementById("student_form").reset();
                    if (response.status === 'success') {
                        // Clear the form
                       
                       //alert(response.status);
       
       
                    } else {
                     ///alert("Success message not found");
                            
                        }
                        
                },
                error: function (xhr, status, error) {
                   
                    var err = eval("(" + xhr.responseText + ")");
                    alert(err.Message);
                }
            });
       
       
           //////////////////////////////////////////////////////////////////
           const timer = ms => new Promise(res => setTimeout(res, ms));
       
           timer(3000)
             .then(() => {
                  bodyElement.classList.add('loaded');
             }).then(() =>{
                 step[stepCount].classList.remove('d-block');
                 step[stepCount].classList.add('d-none');
                 prevBtn.classList.remove('d-inline-block');
                 prevBtn.classList.add('d-none');
                 submitBtn.classList.remove('d-inline-block');
                 submitBtn.classList.add('d-none');
                 succcessDiv.classList.remove('d-none');
                 succcessDiv.classList.add('d-block');
             })
            
            });
          });
        </script>
               

    <script src="{% static 'js/admission/script.js '%}"></script>
    {% endblock %}
    